\documentclass[12pt, final, twoside]{fithesis2}
\usepackage[inner=38mm, outer=27mm, top=37mm, bottom=48mm]{geometry}
\usepackage[utf8]{inputenc}

% searchable and copyable pdf (special characters, accents)
\usepackage{cmap}

% colours and graphics
\usepackage[usenames,dvipsnames,svgnames]{xcolor}

%\usepackage{fontspec}
\usepackage[normalem]{ulem}

\usepackage{subfig}
\usepackage[us,24hr]{datetime}
\newdateformat{mydate}{\THEDAY.\THEMONTH.\THEYEAR}
\newcommand{\verze}{  \scriptsize(v. \mydate\today\ \currenttime)}

% font
\usepackage[T1]{fontenc} % left bottom quote ,,  (,,bla'')
\usepackage{lmodern}
\usepackage{microtype}
\usepackage{indentfirst}
% \usepackage{verbatim}
% \usepackage{moreverb}
\usepackage{setspace} % spacing environment

\usepackage{enumitem}
\setitemize{itemsep=.5ex, topsep=.5ex, parsep=0pt, partopsep=0pt}

\usepackage[ruled,lined]{algorithm2e}
\setlength{\algomargin}{0.5cm}

\newcommand{\argmax}{\operatornamewithlimits{arg\,max}}
\newcommand{\argmin}{\operatornamewithlimits{arg\,min}}


\usepackage[final]{hyperref}

% theorems

\usepackage{framed}


\usepackage{amsmath}
\usepackage{mathtools}  % (in texlive-latex3 package)
\mathtoolsset{showonlyrefs}

%\usepackage[amsmath, amsthm, framed, thmmarks]{ntheorem}
\usepackage[amsmath, amsthm, framed]{ntheorem}

% \usepackage{amsthm}
\usepackage{tikz}
\tikzstyle{thmbox} = [rectangle, rounded corners=10, draw=gray!20, fill=gray!10, inner sep=8pt, inner ysep=1pt]
\newcommand\thmbox[1]{
  % \hspace{-8pt}
  \begin{tikzpicture}
  \node [inner sep=-10pt, inner ysep=-5pt] (box) {
    \begin{tikzpicture}
    \node [thmbox] (box){
      #1
    };
    \end{tikzpicture}
  };
  \end{tikzpicture}
}
\let\theoremframecommand\thmbox

\newcounter{common}
%\numberwithin{common}{section}

\theoremstyle{definition}
\shadecolor{gray!5}
\newshadedtheorem{definition}[common]{Definition}
%\newtheorem{definition}{Definition}
\newtheorem{example}[common]{Example}

\theoremstyle{plain}
\newtheorem{problem}[common]{Problem}
\shadecolor{gray!15}
\newshadedtheorem{theorem}[common]{Theorem}
%\newshadedtheorem{lemma}{Lemma}
%\newtheorem{theorem}{Theorem}
\newtheorem{lemma}[common]{Lemma}
\newtheorem{corollary}[common]{Corollary}
%\theoremstyle{nonumberplain}
%\newtheorem{proof}{Proof}

\usepackage{graphicx}

% cool symbols
\usepackage{amssymb}
\usepackage{MnSymbol}
\usepackage{wasysym}
% \usepackage{marvosym}

% zkratky pro zprehledneni
\usepackage[ligature]{semantic}
\mathlig{<-}{\leftarrow}
\mathlig{->}{\rightarrow}
\mathlig{==>}{\Rightarrow}
\mathlig{<==}{\Leftarrow}
\mathlig{<=}{\leq}
\mathlig{>=}{\geq}
\mathlig{...}{\dotso}

\pagestyle{plain}
\sloppy

%\renewcommand{\chaptermark}[1]{\markright{\thechapter.\ \verze#1}{}}
% \renewcommand{\chaptermark}[1]{ \markboth{#1}{} }
\renewcommand{\sectionmark}[1]{\markright{{\verze}\ \thesection\ #1}{}}

\setlength{\parskip}{.3ex plus .2ex minus .1ex}
\setlength{\parindent}{0pt}